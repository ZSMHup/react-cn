<!DOCTYPE html>
<html lang="zh">
<head>
	<meta charset="UTF-8">
	<title>react componentWillReceiveProps api</title>
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="renderer" content="webkit|ie-comp|ie-stand">
	<meta name="keywords" content="react.js,componentWillReceiveProps" />
	<meta name="description" content="react.js componentWillReceiveProps 的中文api说明" />
	<link rel="stylesheet" href="http://www.react-cn.com/css/css.css">
	<link rel="shortcut icon" href="http://www.react-cn.com/favicon.ico">
</head>
<body>
<header>
	<h1><a class="logo" href="http://www.react-cn.com/"><img class="nav-logo" src="http://www.react-cn.com//logo.svg" width="36" height="36">React中国</a></h1>
	<nav class="menu">
		<a href="http://www.react-cn.com/index.html" >首页</a>
		<a href="http://www.react-cn.com/downloads.html" >下载</a>
		<a href="http://www.react-cn.com/docs/getting-started.html" >react中文文档</a>
		<a href="http://www.react-cn.com/api/index.html" class="active">react api</a>
		<a href="http://www.react-cn.com/addons/index.html" >react 工具</a>
		<a href="http://www.react-cn.com/plugin.html" >react 插件</a>
		<a href="http://www.react-cn.com/docs/examples.html" >例子</a>
	</nav>
	<div class="submenu">
		<a target="_blank" href="http://www.react-cn.com//shang.qq.com/wpa/qunwpa?idkey=db86a206a1e04f114217ccffd92ee11f5faca14d283a71d97817937ee3cf9d00"><img border="0" src="http://pub.idqqimg.com/wpa/images/group.png" alt="reactjs、reactnative技术群" title="reactjs、reactnative技术群"></a>
		<h2 class="download"><a href="http://www.react-cn.com/downloads.html" class="button">下载 React v16.0.0</a></h2>
		<!--<a href="http://www.react-cn.com/reactnative/index.html">React Native中文资料</a>-->
	</div>
</header>
<div class="container documentationContent">
	<div class="rightContainer">
		<div class="inner">
			<a class="edit-page-link" href="https://github.com/tianxiangbing/react-cn/tree/master/src/api/md/componentWillReceiveProps.md" target="_blank">在github上编辑这篇文章</a>
			<h1><a name="componentwillreceiveprops" class="anchor" href="#componentwillreceiveprops"></a>componentWillReceiveProps<a  class="hash-link" href="#componentwillreceiveprops">#</a></h1><p><code>(object nextProps)</code>此事件的参数是指要更新的props.</p>
<p>当挂载的组件接收到新的props时被调用。此方法应该被用于比较this.props 和 nextProps以用于使用this.setState()执行状态转换。这句话的意思是，你可以在这里写一些判断来接收传递过来的props来设置当前组件的state，这是很有用的一个事件，因为理论上是每个组件的state应该是独立的，如果调用者想要改变组件的state，就必须通过传递props方式，这时候的转化就发生在<code>componentWillReceiveProps</code>中了。比如我在<a href="http://www.react-cn.com/plugin/x-dialog/index.html">x-dialog</a>中的写法：</p>
<pre><code class="lang-jsx">  componentWillReceiveProps(<span class="hljs-keyword">new</span><span class="hljs-type">Props</span>) {
    console.log(<span class="hljs-keyword">new</span><span class="hljs-type">Props</span>.isShow, <span class="hljs-built_in">this</span>.state.isShow);
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">new</span><span class="hljs-type">Props</span>.isShow &amp;&amp; !<span class="hljs-built_in">this</span>.state.isShow) {
      <span class="hljs-built_in">this</span>.show(<span class="hljs-keyword">new</span><span class="hljs-type">Props</span>);
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">new</span><span class="hljs-type">Props</span>.isShow &amp;&amp; <span class="hljs-built_in">this</span>.state.isShow) {
      <span class="hljs-built_in">this</span>.hide(<span class="hljs-keyword">new</span><span class="hljs-type">Props</span>);
    }
  }
</code></pre>

		</div>
	</div>
    <div class="docnav">
    <div class="nav-docs-section">
      <h2>react API</h3>
      <ul>
          <li>
            <a href="http://www.react-cn.com/api/state.html" >state</a>
          </li>
          <li>
            <a href="http://www.react-cn.com/api/setState.html" >setState</a>
          </li>
          <li>
            <a href="http://www.react-cn.com/api/props.html" >props</a>
          </li>
          <li>
            <a href="http://www.react-cn.com/api/refs.html" >refs</a>
          </li>
          <li>
            <a href="http://www.react-cn.com/api/getInitialState.html" >getInitialState</a>
          </li>
          <li>
            <a href="http://www.react-cn.com/api/componentWillMount.html" >componentWillMount</a>
          </li>
          <li>
            <a href="http://www.react-cn.com/api/componentDidMount.html" >componentDidMount</a>
          </li>
          <li>
            <a href="http://www.react-cn.com/api/componentWillReceiveProps.html" class="active">componentWillReceiveProps</a>
          </li>
          <li>
            <a href="http://www.react-cn.com/api/shouldComponentUpdate.html" >shouldComponentUpdate</a>
          </li>
          <li>
            <a href="http://www.react-cn.com/api/componentWillUpdate.html" >componentWillUpdate</a>
          </li>
          <li>
            <a href="http://www.react-cn.com/api/componentDidUpdate.html" >componentDidUpdate</a>
          </li>
          <li>
            <a href="http://www.react-cn.com/api/componentWillUnmount.html" >componentWillUnmount</a>
          </li>
          <li>
            <a href="http://www.react-cn.com/api/forceUpdate.html" >forceUpdate</a>
          </li>
      </ul>
    </div>
</div>
</div>
<footer>
<p>友情链接：<a href="http://www.react-cn.com/" target="_blank">react中国</a> <a href="http://www.react-cn.com/docs/getting-started.html" target="_blank">react 中文文档</a> <a href="http://www.react-cn.com/downloads.html" target="_blank">react.js下载</a> <a href="http://www.lovewebgames.com/" target="_blank">js小游戏</a> <a href="http://www.lovewebgames.com/jsmodule/index.html" target="_blank">jquery插件</a><a href="http://www.react-cn.com/">react中文文档</a></p>
<p>© 2016-2017 <a href="http://www.react-cn.com/">react中文资料</a> 版权所有 ICP证：浙ICP备09082150号-3</p>
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>

<script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"0","bdSize":"16"},"slide":{"type":"slide","bdImg":"5","bdPos":"right","bdTop":"91.5"},"image":{"viewList":["qzone","tsina","tqq","weixin","tieba","sqq"],"viewText":"分享到：","viewSize":"16"},"selectShare":{"bdContainerClass":null,"bdSelectMiniList":["qzone","tsina","tqq","weixin","tieba","sqq"]}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script>
</footer>
</body>
</html>